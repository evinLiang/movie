require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],{44:function(t,i,e){"use strict";var a=n(e(2)),s=n(e(45));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},45:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(47),s=e.n(a),n=e(48),u=!1;var o=function(t){u||e(46)},r=e(0)(s.a,n.a,o,null,null);r.options.__file="..\\..\\..\\..\\work\\1-ME\\muiapp\\movie\\pages\\play\\play.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] play.vue: functional components are not supported with templates, they should use render functions."),i.default=r.exports},46:function(t,i){},47:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default={data:function(){return{musicDetail:{id:"",url:"",name:"",picUrl:"",author:""},musicSwith:0,musicSwithNum:2,bgAudioMannager:""}},onLoad:function(t){this.musicDetail.id=t.id,this.bgAudioMannager=this.globalData.bgAudioMannager,this.getMusicUrl(),this.getMusicInfo()},methods:{getMusicUrl:function(){var i=this;t.showLoading({title:"加载中"}),t.request({url:i.MusicApi.server+i.MusicApi.type.songUrl,data:{id:i.musicDetail.id},success:function(e){200==e.data.code?(i.musicDetail.url=e.data.data[0].url,i.musicSwith++,t.hideLoading()):(t.hideLoading(),console.error("数据获取失败"),t.showToast({title:"banner数据获取失败",duration:5e3,icon:"none"}))},fail:function(i){t.hideLoading(),t.showToast({title:"请求超时",duration:5e3,icon:"none"})}})},getMusicInfo:function(){var i=this;t.showLoading({title:"加载中"}),t.request({url:i.MusicApi.server+i.MusicApi.type.songDetail,data:{ids:i.musicDetail.id},success:function(e){if(200==e.data.code){for(var a in i.musicDetail.name=e.data.songs[0].name,i.musicDetail.picUrl=e.data.songs[0].al.picUrl,e.data.songs[0].ar)i.musicDetail.author=i.musicDetail.author+e.data.songs[0].ar[a].name+"/";i.musicDetail.author=i.musicDetail.author.substr(0,i.musicDetail.author.length-1),i.musicSwith++,t.hideLoading()}else t.hideLoading(),console.error("数据获取失败"),t.showToast({title:"banner数据获取失败",duration:5e3,icon:"none"})},fail:function(i){t.hideLoading(),t.showToast({title:"请求超时",duration:5e3,icon:"none"})}})},playMusic:function(){this.bgAudioMannager.stop(),this.bgAudioMannager.title=this.musicDetail.name,this.bgAudioMannager.singer=this.musicDetail.author,this.bgAudioMannager.coverImgUrl=this.musicDetail.picUrl,this.bgAudioMannager.src=this.musicDetail.url,this.bgAudioMannager.play()}},watch:{musicSwith:function(t,i){t==this.musicSwithNum&&this.playMusic()}}}}).call(i,e(1).default)},48:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("view",{staticClass:"page-panel"},[e("view",{staticClass:"picUrl"},[e("image",{staticClass:"cover",attrs:{src:t.musicDetail.picUrl}}),e("image",{staticClass:"bg",attrs:{src:"../../static/images/record.png",mode:"widthFix"}})]),e("view",{staticClass:"musicInfo"},[e("view",{staticClass:"musicName"},[t._v(t._s(t.musicDetail.name))]),e("view",{staticClass:"musicAuthor"},[t._v(t._s(t.musicDetail.author))])]),e("view",{staticClass:"musicBtns"},[t._m(0),e("view",{staticClass:"item",attrs:{eventid:"0zd-0"},on:{tap:function(i){t.bgAudioMannager.pause()}}},[e("image",{attrs:{src:"../../static/images/stop.png"}})]),e("view",{staticClass:"item",attrs:{eventid:"SKL-1"},on:{tap:function(i){t.bgAudioMannager.play()}}},[e("image",{attrs:{src:"../../static/images/play.png"}})]),t._m(1)])])};a._withStripped=!0;var s={render:a,staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"item"},[i("image",{attrs:{src:"../../static/images/prev.png"}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("view",{staticClass:"item"},[i("image",{attrs:{src:"../../static/images/next.png"}})])}]};i.a=s}},[44]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/play/play.js.map