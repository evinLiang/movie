{"version":3,"sources":["webpack:///G:/work/1-ME/muiapp/movie/main.js","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?716b","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?60cb","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?259a","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?60f8","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?6162","webpack:///G:/work/1-ME/muiapp/movie/pages/play/play.vue?c86b"],"names":["Page","App","data","musicDetail","id","url","name","picUrl","author","musicTime","currentTime","duration","playIcon","pauseIcon","isStop","isPlay","musicSwith","musicSwithNum","bgAudioMannager","innerAudioContext","computed","onLoad","e","globalData","bgAudioMannagerFunc","getMusicUrl","getMusicInfo","musicInfo","playTime","isMusicPlay","onUnload","setPlayTime","setMusicInfo","setMusicPlay","methods","onTimeUpdate","toFixed","_this","uni","showLoading","title","request","MusicApi","server","type","songUrl","success","res","code","hideLoading","console","error","showToast","icon","fail","err","songDetail","ids","songs","al","i","ar","substr","length","playMusic","musicStart","stop","singer","coverImgUrl","src","play","toPausePlay","pause","toAgain","sliderChange","time","detail","value","seek","watch","val","oldVal"],"mappings":"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8B;AAC9C;AACA;AACA,gBAAgB,2BAA2B;AAC3C,mBAAmB,SAAS,8BAA8B,EAAE;AAC5D;AACA,gBAAgB,8BAA8B;AAC9C,kBAAkB,sBAAsB;AACxC,oBAAoB,sBAAsB;AAC1C;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,aAAa;AACb,OAAO;AACP,kBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,wBAAwB;AAChD;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD,mBAAmB,SAAS,gDAAgD,EAAE;AAC9E;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD,mBAAmB,SAAS,gDAAgD,EAAE;AAC9E;AACA;AACA;AACA","file":"pages/play/play.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/play/play.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./play.vue?vue&type=template&id=11c0797e&scoped=true&\"\nimport script from \"./play.vue?vue&type=script&lang=js&\"\nexport * from \"./play.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play.vue?vue&type=style&index=0&id=11c0797e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11c0797e\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('11c0797e', component.options)\n    } else {\n      api.reload('11c0797e', component.options)\n    }\n    module.hot.accept(\"./play.vue?vue&type=template&id=11c0797e&scoped=true&\", function () {\n      api.rerender('11c0797e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"work/1-ME/muiapp/movie/pages/play/play.vue\"\nexport default component.exports","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=style&index=0&id=11c0797e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=style&index=0&id=11c0797e&scoped=true&lang=css&\"","export * from \"-!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../软件/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./play.vue?vue&type=template&id=11c0797e&scoped=true&\"","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport { mapState, mapMutations } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmusicDetail: {\r\n\t\t\t\tid: '',\r\n\t\t\t\turl: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\tpicUrl: '',\r\n\t\t\t\tauthor: ''\r\n\t\t\t},\r\n\t\t\tmusicTime: {\r\n\t\t\t\tcurrentTime: 0,\r\n\t\t\t\tduration: 0\r\n\t\t\t},\r\n\t\t\tplayIcon: '../../static/images/play.png',\r\n\t\t\tpauseIcon: '../../static/images/pause.png',\r\n\t\t\tisStop: false, //判断是否播放完\r\n\t\t\tisPlay: true, //是否在播放\r\n\t\t\tmusicSwith: 0, //获取歌曲url和详情是两条异步接口,用来监听接口是否都获取数据成功\r\n\t\t\tmusicSwithNum: 2, //得到播放音乐条件步骤\r\n\t\t\tbgAudioMannager: '', //赋值等同于全局的背景音乐组件bgAudioMannager，方便本页面控制背景音乐组件\r\n\t\t\tinnerAudioContext: ''//赋值等同于全局的背景音乐组件innerAudioContext，方便本页面控制背景音乐组件\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['isMusicStart', 'musicInfo', 'isMusicPlay', 'playTime'])\r\n\t},\r\n\tonLoad(e) {\r\n\t\tthis.musicDetail.id = e.id;\r\n\r\n\t\tthis.bgAudioMannager = this.globalData.bgAudioMannager;\r\n\t\tthis.bgAudioMannagerFunc();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t/* 判断是否不是从音乐组件跳转进来\r\n\t\t *  是：获取音乐信息并且播放\r\n\t\t *  否：页面的musicDetail等于vuex的musicInfo，方便页面控制\r\n\t\t */\r\n\t\tif (this.musicDetail.id !== 'playing') {\r\n\t\t\tthis.getMusicUrl();\r\n\t\t\tthis.getMusicInfo();\r\n\t\t} else {\r\n\t\t\tthis.musicDetail = this.musicInfo;\r\n\t\t\tthis.musicTime = this.playTime;\r\n\t\t\tthis.isMusicPlay ? (this.isPlay = true) : (this.isPlay = false);\r\n\r\n\t\t\tif (this.globalData.bgAudioMannager.currentTime == 0) {\r\n\t\t\t\tthis.isStop = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isStop = false;\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t},\r\n\tonUnload(e) {\r\n\t\tthis.setPlayTime(this.musicTime);\r\n\t\tthis.setMusicInfo(this.musicDetail);\r\n\t\tthis.setMusicPlay(this.isPlay);\r\n\t},\r\n\tmethods: {\r\n\t\t...mapMutations(['musicStart', 'setMusicInfo', 'setMusicPlay', 'setPlayTime']),\r\n\r\n\t\tbgAudioMannagerFunc() {\r\n\t\t\tthis.bgAudioMannager.onTimeUpdate(() => {\r\n\t\t\t\tthis.musicTime.currentTime = this.bgAudioMannager.currentTime / 60;\r\n\t\t\t\tthis.musicTime.duration = this.bgAudioMannager.duration / 60;\r\n\t\t\t\tthis.musicTime.currentTime = this.musicTime.currentTime.toFixed(2);\r\n\t\t\t\tthis.musicTime.duration = this.musicTime.duration.toFixed(2);\r\n\r\n\t\t\t\t//当前播放时间等于歌曲时间，那么状态为暂停\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.globalData.bgAudioMannager.currentTime ==\r\n\t\t\t\t\tthis.globalData.bgAudioMannager.duration\r\n\t\t\t\t) {\r\n\t\t\t\t\tthis.isStop = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tgetMusicUrl() {\r\n\t\t\t//或者音乐url\r\n\t\t\tvar _this = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl: _this.MusicApi.server + _this.MusicApi.type.songUrl,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: _this.musicDetail.id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//console.log(res.data.data);\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t_this.musicDetail.url = res.data.data[0].url;\r\n\t\t\t\t\t\t_this.musicSwith++;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.error('数据获取失败');\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'banner数据获取失败',\r\n\t\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求超时',\r\n\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetMusicInfo() {\r\n\t\t\t//或者音乐信息\r\n\t\t\tvar _this = this;\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中'\r\n\t\t\t});\r\n\t\t\tuni.request({\r\n\t\t\t\turl: _this.MusicApi.server + _this.MusicApi.type.songDetail,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tids: _this.musicDetail.id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//console.log(res.data.songs[0].name);\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t_this.musicDetail.name = res.data.songs[0].name;\r\n\t\t\t\t\t\t_this.musicDetail.picUrl = res.data.songs[0].al.picUrl;\r\n\t\t\t\t\t\tfor (let i in res.data.songs[0].ar) {\r\n\t\t\t\t\t\t\t_this.musicDetail.author =\r\n\t\t\t\t\t\t\t\t_this.musicDetail.author + res.data.songs[0].ar[i].name + '/';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.musicDetail.author = _this.musicDetail.author.substr(\r\n\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t_this.musicDetail.author.length - 1\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t_this.musicSwith++;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.error('数据获取失败');\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'banner数据获取失败',\r\n\t\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请求超时',\r\n\t\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tplayMusic() {\r\n\t\t\tthis.musicStart('true'); //显示播放组件\r\n\t\t\t//播放音乐\r\n\r\n\t\t\tthis.bgAudioMannager.stop();\r\n\t\t\tthis.bgAudioMannager.title = this.musicDetail.name;\r\n\t\t\tthis.bgAudioMannager.singer = this.musicDetail.author;\r\n\t\t\tthis.bgAudioMannager.coverImgUrl = this.musicDetail.picUrl;\r\n\t\t\tthis.bgAudioMannager.src = this.musicDetail.url;\r\n\t\t\tthis.bgAudioMannager.play();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t},\r\n\t\ttoPausePlay() {\r\n\t\t\t//播放和暂停按钮\r\n\t\t\t\r\n\t\t\tif (this.isPlay) {\r\n\r\n\t\t\t\tthis.bgAudioMannager.pause();\r\n\r\n\r\n\r\n\r\n\t\t\t\tthis.isPlay = false;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis.bgAudioMannager.play();\r\n\r\n\r\n\r\n\r\n\t\t\t\tthis.isPlay = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoAgain() {\r\n\t\t\t//重新播放音乐\r\n\t\t\tthis.isStop = false;\r\n\t\t\tthis.isPlay = true;\r\n\t\t\tthis.playMusic();\r\n\t\t},\r\n\t\tsliderChange(e) {\r\n\t\t\tvar time = e.detail.value;\r\n\r\n\t\t\tthis.bgAudioMannager.seek(time * 60);\r\n\r\n\r\n\r\n\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tmusicSwith(val, oldVal) {\r\n\t\t\t//监听符合条件后播放音乐\r\n\t\t\tif (val == this.musicSwithNum) {\r\n\t\t\t\tthis.playMusic();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"page-panel-h\" }, [\n    _c(\"view\", { staticClass: \"music-name\" }, [\n      _vm._v(_vm._s(_vm.musicDetail.name))\n    ]),\n    _c(\"view\", { staticClass: \"music-author\" }, [\n      _vm._v(_vm._s(_vm.musicDetail.author))\n    ]),\n    _c(\"view\", { staticClass: \"music-pic\" }, [\n      _c(\"image\", { attrs: { src: _vm.musicDetail.picUrl } })\n    ]),\n    _c(\"view\", { staticClass: \"player-panel\" }, [\n      _c(\"view\", { staticClass: \"time\" }, [\n        _c(\"view\", { staticClass: \"item\" }, [\n          _vm._v(_vm._s(_vm.musicTime.currentTime))\n        ]),\n        _c(\"view\", { staticClass: \"item\" }, [\n          _vm._v(_vm._s(_vm.musicTime.duration))\n        ])\n      ]),\n      _c(\"slider\", {\n        attrs: {\n          value: _vm.musicTime.currentTime,\n          step: \"0.01\",\n          min: \"0\",\n          max: _vm.musicTime.duration,\n          \"block-size\": \"12\",\n          activeColor: \"#E91E63\",\n          eventid: \"80408d38-0\"\n        },\n        on: { changing: _vm.sliderChange }\n      }),\n      _c(\"view\", { staticClass: \"player-btn\" }, [\n        _vm._m(0),\n        _vm.isStop\n          ? _c(\n              \"view\",\n              {\n                staticClass: \"playStop\",\n                attrs: { eventid: \"80408d38-1\" },\n                on: {\n                  tap: function($event) {\n                    _vm.toAgain()\n                  }\n                }\n              },\n              [\n                _c(\"image\", {\n                  attrs: { src: \"../../static/images/again.png\", mode: \"\" }\n                })\n              ]\n            )\n          : _vm._e(),\n        !_vm.isStop\n          ? _c(\n              \"view\",\n              {\n                staticClass: \"playStop\",\n                attrs: { eventid: \"80408d38-2\" },\n                on: {\n                  tap: function($event) {\n                    _vm.toPausePlay()\n                  }\n                }\n              },\n              [\n                _c(\"image\", {\n                  attrs: {\n                    src: _vm.isPlay ? _vm.playIcon : _vm.pauseIcon,\n                    mode: \"\"\n                  }\n                })\n              ]\n            )\n          : _vm._e(),\n        _vm._m(1)\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"nextPrev\" }, [\n      _c(\"image\", { attrs: { src: \"../../static/images/prev.png\", mode: \"\" } })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"nextPrev\" }, [\n      _c(\"image\", { attrs: { src: \"../../static/images/next.png\", mode: \"\" } })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}